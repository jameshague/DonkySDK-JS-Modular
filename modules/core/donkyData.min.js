/*!
 * DonkyData JavaScript Library
 *
 * Copyright (C) Donky Networks Ltd. All rights reserved.
 *
 */
;var DonkyData=(function(){var b,c=null;var e={namespace:"donky.net.core."};var d={_get:function(f){return localStorage.getItem(e.namespace+f)},get:function(g){var i=null;var f=this._get(g);try{i=JSON.parse(f)}catch(h){console.log("caught exception in _db.get("+g+"): "+h)}return i},_set:function(f,g){localStorage.setItem(e.namespace+f,g)},set:function(g,h){try{var f=JSON.stringify(h);this._set(g,f)}catch(i){console.log("caught exception in _db.set("+g+"): "+i)}},remove:function(f){localStorage.removeItem(e.namespace+f)},removeAll:function(f){c._each(f,function(g,h){b.remove(h)})},lsTest:function(){var g="test";try{localStorage.setItem(g,g);localStorage.removeItem(g);return true}catch(f){return false}}};function a(f){if(typeof b!="undefined"){return b}if(!d.lsTest()){throw new Error("Local storage not available")}if(f===undefined||f===null){throw new Error("no options specified")}if(f.donkyCore===undefined){throw new Error("donkyCore not specified")}c=f.donkyCore;c._extend(e,f);b=this;return b}a.prototype._getNamespace=function(){return e.namespace};a.prototype._setNamespace=function(f){e.namespace=f};a.prototype.get=function(f){return d.get(f)};a.prototype.set=function(f,g){d.set(f,g)};a.prototype.getString=function(f){return d._get(f)};a.prototype.setString=function(f,g){d._set(f,g)};a.prototype.remove=function(f){d.remove(f)};return a})();