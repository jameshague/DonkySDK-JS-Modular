/*!
 * DonkyMessagingCore JavaScript Library
 *
 * Copyright (C) Donky Networks Ltd. All rights reserved.
 *
 */
(function(){var a=function(d){if(d===undefined){throw new Error("Missing donkyCore")}var c;function b(){console.log("Constructing DonkyMessagingCommon")}b.prototype={markMessageReceived:function(g,f){var e={type:"MessageReceived",senderInternalUserId:g.data.senderInternalUserId,messageId:g.data.messageId,senderMessageId:g.data.senderMessageId,receivedExpired:f,messageType:g.data.messageType,messageScope:g.data.messageScope,sentTimestamp:g.data.sentTimestamp,contextItems:g.data.contextItems,acknowledgementDetail:{serverNotificationId:g.id,result:"Delivered",sentTime:g.createdOn,type:g.type}};d.queueClientNotifications(e)},markMessageRead:function(f){var g=d._dateDiff(new Date(f.receevedTimestamp),new Date());var e={type:"MessageRead",senderInternalUserId:f.senderInternalUserId,messageId:f.messageId,senderMessageId:f.senderMessageId,messageType:f.messageType,messageScope:f.messageScope,sentTimestamp:f.sentTimestamp,contextItems:f.contextItems,timeToReadSeconds:g.seconds};d.queueClientNotifications(e)},isExpired:function(g){var f=false;if(g!==null&&g!==undefined){var e=new Date(g).valueOf();var h=new Date().valueOf();if(h>e){f=true}}return f}};c=new b();return c};if(typeof define==="function"&&define.amd){define("donkyMessagingCommon",["donkyCore"],function(b){return a(b)})}else{window.donkyMessagingCommon=a(window.donkyCore)}}());